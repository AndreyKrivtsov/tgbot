# üîó –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–æ—Ç–∞ –∫ Docker —Å–µ—Ä–≤–∏—Å–∞–º

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–Ø —Å–æ–∑–¥–∞–ª —Ñ–∞–π–ª `env.example` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º.

## üìã –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ:

### 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ env.example –≤ .env
```bash
cd app
cp env.example .env
```

### 2. –ì–ª–∞–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
```bash
# PostgreSQL (Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ —Ö–æ—Å—Ç–µ)
DATABASE_URL=postgresql://postgres:111111@localhost:5432/tgbot

# Redis (Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ —Ö–æ—Å—Ç–µ)
REDIS_URL=redis://localhost:6379/0
```

### 3. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω –±–æ—Ç–∞:
```bash
BOT_TOKEN=your_actual_bot_token_here
```

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
```bash
cd infrastructure
./monitor.sh
```

### –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL:
```bash
# –ò–∑–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker exec tgbot-postgres psql -U postgres -d tgbot -c "SELECT version();"

# –° —Ö–æ—Å—Ç–∞ (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω psql)
psql -h localhost -U postgres -d tgbot
```

### –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Redis:
```bash
# –ò–∑–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker exec tgbot-redis redis-cli ping

# –° —Ö–æ—Å—Ç–∞ (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω redis-cli)
redis-cli -h localhost ping
```

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

### 1. –ü–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç—ã 5432 –∏ 6379 –Ω–µ –∑–∞–Ω—è—Ç—ã –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏:
```bash
netstat -an | grep 5432
netstat -an | grep 6379
```

### 2. Windows Docker Desktop
–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Windows Docker Desktop, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:
```bash
DATABASE_URL=postgresql://postgres:111111@host.docker.internal:5432/tgbot
REDIS_URL=redis://host.docker.internal:6379/0
```

### 3. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ö–æ—Å—Ç—ã
–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å IP:
```bash
DATABASE_URL=postgresql://postgres:111111@127.0.0.1:5432/tgbot
REDIS_URL=redis://127.0.0.1:6379/0
```

### 4. Firewall/–∞–Ω—Ç–∏–≤–∏—Ä—É—Å
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à firewall –∏–ª–∏ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–∞ —ç—Ç–∏ –ø–æ—Ä—Ç—ã.

## üöÄ –ó–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```bash
cd app
npm run dev
```

## üìä –õ–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:

### –õ–æ–≥–∏ PostgreSQL:
```bash
docker logs tgbot-postgres
```

### –õ–æ–≥–∏ Redis:
```bash
docker logs tgbot-redis
```

### –õ–æ–≥–∏ –±–æ—Ç–∞:
```bash
# –í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ app –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞
tail -f bot.log
```

## üéØ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

‚úÖ PostgreSQL: –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 5432
‚úÖ Redis: –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 6379
‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–¥–æ—Ä–æ–≤—ã –∏ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ `.env` —Ñ–∞–π–ª–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è! 